- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Performant applications are one of the key drivers of success in the mobile
    world. Users may abandon an app if it runs slowly. Learning how to build applications
    that balance speed and performance with functionality and UX can be a challenge;
    however, it's now more important than ever to get that balance right.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在移动领域，性能高效的应用程序是成功的关键因素之一。如果应用运行缓慢，用户可能会放弃使用。学习如何构建在功能性和用户体验之间平衡速度和性能的应用可能是一个挑战；然而，现在比以往任何时候都更重要的是要找到这种平衡。
- en: '*Android High Performance Programming* will make you think about how to wring
    the most from any hardware your app is installed on, so you can increase your
    reach and engagement. The book begins by providing an introduction to state-of-the-art
    Android techniques and the importance of performance in an Android application.
    Then, we will explain the Android SDK tools regularly used to debug and profile
    Android applications. We will also learn about some advanced topics such as building
    layouts, multithreading, networking, and security. Battery life is one of the
    biggest bottlenecks in applications; this book will show typical examples of code
    that exhausts battery life, how to prevent this, and how to measure battery consumption
    from an application in every kind of situation.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*Android高性能编程*将使你思考如何从应用安装的任何硬件中榨取最大性能，从而你可以扩大影响并提高参与度。本书首先提供了对Android最新技术的介绍，以及性能在Android应用中的重要性。然后，我们将解释常规用于调试和剖析Android应用的Android
    SDK工具。我们还将学习一些高级主题，如构建布局、多线程、网络和安全性。电池寿命是应用程序中最大的瓶颈之一；本书将展示耗尽电池寿命的典型代码示例，如何预防这种情况，以及如何在各种情况下测量应用程序的电池消耗。 '
- en: This book explains techniques for building optimized and efficient systems that
    do not drain the battery, cause memory leaks, or slow down with time.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本书解释了构建优化和高效系统的技术，这些系统不会耗尽电池电量，导致内存泄漏，或随时间变慢。
- en: What this book covers
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书内容涵盖
- en: '[Chapter 1](ch01.html "Chapter 1. Introduction: Why High Performance?"), *Introduction:
    Why High Performance?*, provides an introduction to the topic, the current state
    of the art in Android, and the importance of performance in an Android application.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](ch01.html "第1章 引言：为什么需要高性能?")，*引言：为什么需要高性能?*，对主题进行了介绍，包括当前Android技术的最新状态，以及性能在Android应用中的重要性。'
- en: '[Chapter 2](ch02.html "Chapter 2. Efficient Debugging"), *Efficient Debugging*,
    covers the tools provided by the Android SDK (and some externals) that are regularly
    used to debug and profile Android applications.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](ch02.html "第2章 高效调试")，*高效调试*，涵盖了Android SDK（和一些外部工具）提供的常规用于调试和剖析Android应用的工具。'
- en: '[Chapter 3](ch03.html "Chapter 3. Building Layouts"), *Building Layouts*, will
    take you through the techniques used to optimize Android routines, write applications
    that use memory efficiently, and explain concepts from memory allocation to garbage
    collection.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](ch03.html "第3章 构建布局")，*构建布局*，将带你了解用于优化Android例程的技术，编写高效使用内存的应用程序，并解释从内存分配到垃圾回收的概念。'
- en: '[Chapter 4](ch04.html "Chapter 4. Memory"), *Memory*, provides many insights
    to the UI design that need to be learnt in order to create an efficient UI that
    loads fast, without giving a lag perception to the user and that gets updated
    efficiently.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](ch04.html "第4章 内存")，*内存*，提供了许多关于UI设计的见解，需要学习以创建高效的UI，使其快速加载，不会给用户造成延迟感，并且能够高效更新。'
- en: '[Chapter 5](ch05.html "Chapter 5. Multithreading"), *Multithreading*, explains
    all the different threading options in an Android application and when we should
    apply each. Some advanced techniques, such as IPC, will be also shown with practical
    code.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](ch05.html "第5章 多线程")，*多线程*，解释了Android应用中所有不同的线程选项以及何时应用每种选项。一些高级技术，如IPC，也将通过实际代码展示。'
- en: '[Chapter 6](ch06.html "Chapter 6. Networking"), *Networking*, shows techniques
    used to perform efficient network operations, and techniques to retrieve data
    from servers such as exponential back offs or avoiding polling.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](ch06.html "第6章 网络")，*网络*，展示了用于执行高效网络操作的技术，以及从服务器检索数据的技术，如指数回退或避免轮询。'
- en: '[Chapter 7](ch07.html "Chapter 7. Security"), *Security*, covers techniques
    to secure an Android application, how to make use of the security encryption mechanisms
    provided by Android natively, and how to get information about connections or
    just be notified of connection changes.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](ch07.html "第7章. 安全")，*安全*，涵盖了保护安卓应用程序的技术，如何利用安卓原生提供的安全加密机制，以及如何获取关于连接的信息或只是通知连接变化。'
- en: '[Chapter 8](ch08.html "Chapter 8. Optimizing Battery Consumption"), *Optimizing
    Battery Consumption*, provides typical examples of code that exhausts battery
    life, how to prevent it, and how to measure battery consumption from an application
    in every kind of situation; many developers don''t know how to behave while developing
    apps to take a photo or a video, handling with previews, and saving data.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](ch08.html "第8章. 优化电池消耗")，*优化电池消耗*，提供了消耗电池寿命的典型代码示例，如何防止这种情况，以及如何在各种情况下从应用程序测量电池消耗；许多开发者在开发应用时不知道如何处理拍照或视频、处理预览和保存数据的行为。'
- en: '[Chapter 9](ch09.html "Chapter 9. Native Coding in Android"), *Native Coding
    in Android*, this chapter is a workaround in the world of native code and C++
    in Android and its usage.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](ch09.html "第9章. 安卓中的本地编码")，*安卓中的本地编码*，这一章介绍了在安卓中本地代码和C++的世界及其使用方法。'
- en: '[Chapter 10](ch10.html "Chapter 10. Performance Tips"), *Performance Tips*,
    helps developer to be guided in common coding situations, where wrong choices
    can compromise app efficiency; this will be a best practice guide related to topics
    not dealt with in previous chapters.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第10章](ch10.html "第10章. 性能提示")，*性能提示*，帮助开发者在常见的编码情境中得到指导，错误的抉择可能会影响应用效率；这将是关于前几章未涉及主题的最佳实践指南。'
- en: What you need for this book
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你需要为这本书准备以下内容
- en: 'You will need the following hardware for this book:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要以下硬件来使用这本书：
- en: PC/laptop running Windows, Linux, or Mac OS X
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行Windows、Linux或Mac OS X的PC/笔记本电脑
- en: Android phone. A high-end model is recommended, with at least Android 5.0 installed.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安卓手机。建议使用至少安装了安卓5.0的高端型号。
- en: Who this book is for
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书适合谁
- en: This topic is aimed at developers with advanced knowledge of Android, who want
    to push their knowledge and learn techniques to increase the performance of their
    applications. We assume they are comfortable working with the entire Android SDK,
    and have been doing it for years. They are familiar also with frameworks such
    as the NDK to use native code, which is crucial to performance.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 这个主题面向具有高级安卓知识，希望推动自己的知识并学习提高应用程序性能技巧的开发者。我们假设他们能够熟练使用整个安卓SDK，并且已经这样做了很多年。他们还熟悉如NDK之类的框架，以使用对性能至关重要的本地代码。
- en: Conventions
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of text styles that distinguish between
    different kinds of information. Here are some examples of these styles and an
    explanation of their meaning.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，你会发现有多种文本样式区分不同类型的信息。以下是一些样式示例及其含义的解释。
- en: 'Code words in text, database table names, folder names, filenames, file extensions,
    pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "If
    you go to this folder and call the command `adb`, you will see on the screen a
    list of the available options."'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter处理方式将如下显示："如果你进入这个文件夹并调用`adb`命令，你会在屏幕上看到可用选项的列表。"
- en: 'A block of code is set as follows:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 一段代码的设置如下：
- en: '[PRE0]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都会如下写出：
- en: '[PRE1]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, for example, in menus or dialog boxes, appear in the text like
    this: "To debug the overdraw on the device, Android provides a helpful tool that
    can be enabled inside the **Developer options**."'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语**和**重要词汇**会以粗体显示。你在屏幕上看到的词，例如菜单或对话框中的，会像这样出现在文本中："为了在设备上调试过度绘制，安卓提供了一个有用的工具，可以在**开发者选项**中启用。"'
- en: Note
  id: totrans-29
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要提示会以这样的框形式出现。
- en: Tip
  id: totrans-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Tips and tricks appear like this.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 技巧和窍门会以这样的形式出现。
- en: Reader feedback
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 读者反馈
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book—what you liked or disliked. Reader feedback is important for us as it
    helps us develop titles that you will really get the most out of.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。让我们知道你对这本书的看法——你喜欢或不喜欢什么。读者的反馈对我们很重要，因为它帮助我们开发出你真正能从中获得最大收益的标题。
- en: To send us general feedback, simply e-mail `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`,
    and mention the book's title in the subject of your message.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 如果要给我们发送一般反馈，只需通过电子邮件`<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`联系我们，并在邮件的主题中提及书籍的标题。
- en: If there is a topic that you have expertise in and you are interested in either
    writing or contributing to a book, see our author guide at [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在某个主题上有专业知识，并且有兴趣撰写或参与书籍编写，请查看我们位于[www.packtpub.com/authors](http://www.packtpub.com/authors)的作者指南。
- en: Customer support
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户支持
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 既然您已经拥有了Packt的一本书，我们有许多方法可以帮助您充分利用您的购买。
- en: Downloading the example code
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载示例代码
- en: You can download the example code files for this book from your account at [http://www.packtpub.com](http://www.packtpub.com).
    If you purchased this book elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从您的账户[http://www.packtpub.com](http://www.packtpub.com)下载本书的示例代码文件。如果您在别处购买了这本书，可以访问[http://www.packtpub.com/support](http://www.packtpub.com/support)注册，我们会直接将文件通过电子邮件发送给您。
- en: 'You can download the code files by following these steps:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过以下步骤下载代码文件：
- en: Log in or register to our website using your e-mail address and password.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您的电子邮件地址和密码登录或注册我们的网站。
- en: Hover the mouse pointer on the **SUPPORT** tab at the top.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将鼠标悬停在顶部的**支持**标签上。
- en: Click on **Code Downloads & Errata**.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**代码下载与勘误**。
- en: Enter the name of the book in the **Search** box.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**搜索**框中输入书籍的名称。
- en: Select the book for which you're looking to download the code files.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您要下载代码文件的书。
- en: Choose from the drop-down menu where you purchased this book from.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从下拉菜单中选择您购买本书的地方。
- en: Click on **Code Download**.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**代码下载**。
- en: You can also download the code files by clicking on the **Code Files** button
    on the book's webpage at the Packt Publishing website. This page can be accessed
    by entering the book's name in the **Search** box. Please note that you need to
    be logged in to your Packt account.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以通过在Packt Publishing网站的书页上点击**代码文件**按钮来下载代码文件。通过在**搜索**框中输入书名可以访问此页面。请注意，您需要登录到您的Packt账户。
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 文件下载后，请确保您使用最新版本的软件解压或提取文件夹：
- en: WinRAR / 7-Zip for Windows
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 适用于Windows的WinRAR / 7-Zip
- en: Zipeg / iZip / UnRarX for Mac
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 适用于Mac的Zipeg / iZip / UnRarX
- en: 7-Zip / PeaZip for Linux
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 适用于Linux的7-Zip / PeaZip
- en: The code bundle for the book is also hosted on GitHub at [https://github.com/PacktPublishing/Android-High-Performance-Programming](https://github.com/PacktPublishing/Android-High-Performance-Programming).
    We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 本书代码捆绑包也托管在GitHub上，地址为[https://github.com/PacktPublishing/Android-High-Performance-Programming](https://github.com/PacktPublishing/Android-High-Performance-Programming)。我们还有其他丰富的书籍和视频代码捆绑包，可在[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)查看。请查看！
- en: Downloading the color images of this book
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载本书的色彩图像
- en: We also provide you with a PDF file that has color images of the screenshots/diagrams
    used in this book. The color images will help you better understand the changes
    in the output. You can download this file from [http://www.packtpub.com/sites/default/files/downloads/AndroidHighPerformanceProgramming_ColorImages.pdf](http://www.packtpub.com/sites/default/files/downloads/AndroidHighPerformanceProgramming_ColorImages.pdf).
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还为您提供了一个PDF文件，其中包含本书中使用的屏幕截图/图表的色彩图像。色彩图像将帮助您更好地理解输出的变化。您可以从[http://www.packtpub.com/sites/default/files/downloads/AndroidHighPerformanceProgramming_ColorImages.pdf](http://www.packtpub.com/sites/default/files/downloads/AndroidHighPerformanceProgramming_ColorImages.pdf)下载此文件。
- en: Errata
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 勘误
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books—maybe a mistake in the text
    or the code—we would be grateful if you could report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the **Errata Submission Form** link, and entering
    the details of your errata. Once your errata are verified, your submission will
    be accepted and the errata will be uploaded to our website or added to any list
    of existing errata under the Errata section of that title.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已经竭尽全力确保内容的准确性，但错误仍然在所难免。如果您在我们的书中发现了一个错误——可能是文本或代码中的错误——如果您能向我们报告，我们将不胜感激。这样做可以避免其他读者产生困扰，并帮助我们在后续版本中改进这本书。如果您发现任何勘误信息，请通过访问[http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**Errata
    Submission Form**链接，并输入您的勘误详情。一旦您的勘误信息被核实，您的提交将被接受，并且勘误信息将被上传到我们的网站或添加到该标题下的现有勘误列表中。
- en: To view the previously submitted errata, go to [https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)
    and enter the name of the book in the search field. The required information will
    appear under the **Errata** section.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看之前提交的勘误信息，请访问[https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书名。所需信息将在**Errata**部分出现。
- en: Piracy
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 盗版问题
- en: Piracy of copyrighted material on the Internet is an ongoing problem across
    all media. At Packt, we take the protection of our copyright and licenses very
    seriously. If you come across any illegal copies of our works in any form on the
    Internet, please provide us with the location address or website name immediately
    so that we can pursue a remedy.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在互联网上对版权材料的盗版是一个所有媒体都面临的持续问题。在Packt，我们非常重视保护我们的版权和许可。如果您在互联网上以任何形式遇到我们作品的非法副本，请立即提供我们该位置地址或网站名称，以便我们可以寻求补救措施。
- en: Please contact us at `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`
    with a link to the suspected pirated material.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您怀疑有盗版材料，请通过`<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`联系我们，并提供疑似盗版材料的链接。
- en: We appreciate your help in protecting our authors and our ability to bring you
    valuable content.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感谢您帮助我们保护作者权益和我们为您提供有价值内容的能力。
- en: Questions
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题反馈
- en: If you have a problem with any aspect of this book, you can contact us at `<[questions@packtpub.com](mailto:questions@packtpub.com)>`,
    and we will do our best to address the problem.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您对这本书的任何方面有问题，可以通过`<[questions@packtpub.com](mailto:questions@packtpub.com)>`联系我们，我们将尽力解决问题。
