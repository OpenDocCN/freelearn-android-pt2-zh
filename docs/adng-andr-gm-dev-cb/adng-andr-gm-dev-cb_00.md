# 前言

AndEngine 是一个卓越的、功能齐全的、免费的、开源的 Android 平台 2D 框架。它是少数几个持续被独立开发者和专业开发者用来创建时尚有趣游戏的 Android 平台 2D 框架之一，甚至一些市场上最成功的游戏也使用了它。然而，要取得成功，仅仅使用特定的框架是不够的。

*AndEngine for Android Game Development Cookbook* 提供了许多关于 AndEngine 最重要方面的信息性演练，这些方面属于一般游戏编程级别。这本书涵盖了从 AndEngine 游戏的生命周期到在场景中放置精灵并移动它们，一直到创建可破坏物体和光线投射技术等内容。更重要的是，这本书完全基于 AndEngine 最新的、最高效的 Anchor-Center 分支。

# 这本书涵盖的内容。

第一章，*AndEngine 游戏结构*，涵盖了使用 AndEngine 进行游戏开发的重要方面，关于大多数游戏需要生存的核心组件。从音频、纹理、AndEngine 生命周期、保存/加载游戏数据等，这一章都有所涉及。

第二章，*使用实体*，开始让我们熟悉 AndEngine 的 `Entity` 类及其子类型，如精灵、文本、基元等。`Entity` 类是 AndEngine 的核心组件，它允许代码中的对象在屏幕上显示。更具体地说，这一章包括 `Entity` 类中最重要方法的列表，以使我们能够完全控制实体的行为、反应或它们的外观。

第三章，*设计你的菜单*，介绍了一些移动游戏中菜单设计较常见的方面。本章涵盖的主题包括创建按钮，为菜单添加主题音乐，创建视差背景和菜单屏幕导航。本章中的主题很容易被用在游戏的其他区域。

第四章，*使用摄像头*，讨论了 AndEngine 中包含的各种关于游戏摄像头和引擎如何查看游戏场景的选项。我们从不同的摄像头对象开始，以便让我们正确理解每种摄像头的优点，从而做出有见地的决定。然后，我们继续涵盖摄像头的移动和缩放，创建超大背景，创建抬头显示，甚至介绍分屏游戏引擎以应对更复杂的游戏设计。

第五章，*场景和图层管理*，展示了如何创建一个健壮的场景管理框架，该框架包含特定场景的加载屏幕和动画图层。本章中的管理场景使用资源管理器，并且非常易于定制。

第六章，*物理学的应用*，探索了使用 Box2D 物理扩展创建 AndEngine 物理模拟的各种技术。本章的内容涵盖了 Box2D 物理世界的基本设置：体类型、类别过滤、具有多个固定装置的物体、基于多边形的物体、力、关节、布娃娃、绳索、碰撞事件、可破坏物体和光线投射。

第七章，*使用更新处理器*，展示了每次引擎更新时调用的更新处理器的使用方法。本章的内容展示了如何注册基于实体的更新处理器、条件更新和创建游戏计时器。

第八章，*最大化性能*，介绍了一些在提高任何 Android 游戏性能时最有效的高级实践。本章涵盖了涉及音频、图形/渲染和一般内存管理的优化技术，以帮助在必要时减轻性能问题。

第九章，*AndEngine 扩展概述*，在这一章中我们讨论了一些更受欢迎的 AndEngine 扩展，根据游戏的不同，这些扩展可能对项目有益。这些扩展并非适合所有人，但对于感兴趣的人来说，本章包含了我们如何着手创建动态壁纸、通过网络服务器和客户端实现多人组件、创建高分辨率 SVG 纹理以及色彩映射纹理的见解。

第十章，*更深入了解 AndEngine*，提供了几个有用的食谱，这些食谱扩展了前几章介绍的概念。本章的内容包括批量纹理加载、纹理网格、自动阴影、移动平台和绳索桥梁。

附录 A，*MagneTank 的源代码*，概述了 MagneTank 游戏，通过逐类描述来展示如何设置用 AndEngine 制作完整的游戏。该游戏包括贯穿各章节的许多食谱，并且附带的代码中提供了源代码。

*附录 B，附加食谱*，书中未包含，但可以通过以下链接免费下载：[`downloads.packtpub.com/sites/default/files/downloads/8987OS_AppB_Final.pdf`](http://downloads.packtpub.com/sites/default/files/downloads/8987OS_AppB_Final.pdf)。

# 你需要为这本书准备什么

《*AndEngine for Android Game Development Cookbook*》对大多数 AndEngine 开发者都有用。从最初的几章开始，读者将开始学习 AndEngine 的基础知识，即使是中级开发者也能在这些章节中找到有用的提示。随着读者章节的深入，将涉及更难的话题，因此初学者不要跳过。此外，那些尚未过渡到 AndEngine 最新开发分支的中级开发者，在整个书中都能找到关于 GLES1/GLES2 分支与本书讨论的 Anchor-Center 分支之间的差异的有用信息。

建议具备 Java 编程语言的基本理解。

为了执行本书中的各种主题，所需的软件包括用于构建和编译代码的 Eclipse IDE，用于图像绘制/编辑的 GIMP，以及用于 SVG 绘制/编辑的 Inkscape。如果您对它们更熟悉，请随意使用这些产品的替代品。此外，本书假设读者在开始使用食谱之前已经获得了所需的库，包括 AndEngine 及其各种扩展。

# 本书适合的读者

《*AndEngine for Android Game Development Cookbook*》面向那些对使用最新版本的 AndEngine 感兴趣的开发者，该版本采用了全新的 GLES 2.0 Anchor-Center 分支。这本书将帮助那些试图进入移动游戏市场，打算发布有趣且刺激的游戏，同时减少进入 AndEngine 开发时不可避免的学习曲线的开发者。

# 约定

在这本书中，您会发现多种文本样式，用于区分不同类型的信息。以下是一些样式示例及其含义的解释。

文本中的代码字如下所示："以最基础的`Entity`方法为例，我们将一个`Entity`对象附加到一个`Scene`对象上。"

代码块设置如下：

```kt
  float baseBufferData[] = {
      /* First Triangle */
      0, BASE_HEIGHT, UNUSED, /* first point */
      BASE_WIDTH, BASE_HEIGHT, UNUSED, /* second point */
      BASE_WIDTH, 0, UNUSED, 	/* third point */

      /* Second Triangle */
      BASE_WIDTH, 0, UNUSED, /* first point */
      0, 0, UNUSED, /* second point */
      0, BASE_HEIGHT, UNUSED, /* third point */
  };
```

### 注意

警告或重要注意事项会像这样出现在一个框里。

### 提示

提示和技巧会像这样出现。

# 读者反馈

我们始终欢迎读者的反馈。告诉我们您对这本书的看法——您喜欢或可能不喜欢的内容。读者的反馈对我们来说很重要，可以帮助我们开发出您真正能从中获得最大收益的标题。

如需向我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在邮件的主题中提及书名。

如果您在某个主题上有专业知识，并且有兴趣撰写或参与书籍编写，请查看我们在[www.packtpub.com/authors](http://www.packtpub.com/authors)上的作者指南。

# 客户支持

既然您已经拥有了 Packt 的一本书，我们有一些事情可以帮助您充分利用您的购买。

## 下载示例代码

您可以从您的账户[`www.PacktPub.com`](http://www.PacktPub.com)下载您购买的所有 Packt 书籍的示例代码文件。如果您在别处购买了这本书，可以访问[`www.PacktPub.com/support`](http://www.PacktPub.com/support)注册，我们会直接将文件通过电子邮件发送给您。

## 勘误

尽管我们已经竭尽全力确保内容的准确性，但错误仍然会发生。如果您在我们的书中发现了一个错误——可能是文本或代码中的错误——如果您能向我们报告，我们将不胜感激。这样做，您可以避免其他读者感到沮丧，并帮助我们改进本书的后续版本。如果您发现任何勘误信息，请通过访问[`www.packtpub.com/support`](http://www.packtpub.com/support)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情。一旦您的勘误信息得到验证，您的提交将被接受，勘误信息将被上传到我们的网站，或添加到该标题下的现有勘误列表中。任何现有的勘误信息可以通过从[`www.packtpub.com/support`](http://www.packtpub.com/support)选择您的标题来查看。

## 盗版

互联网上版权资料的盗版问题在所有媒体中持续存在。在 Packt，我们非常重视保护我们的版权和许可。如果您在互联网上以任何形式遇到我们作品的非法副本，请立即提供我们该位置地址或网站名称，以便我们可以寻求补救措施。

如果您有疑似盗版资料的链接，请联系`<copyright@packtpub.com>`。

我们感谢您帮助保护我们的作者，以及我们为您带来有价值内容的能力。

## 问题

如果您在书的任何方面遇到问题，可以联系`<questions@packtpub.com>`，我们将尽力解决。
