# 前言

随着移动 Android 操作系统的持续爆发式增长，以及智能手机和平板电脑市场中 Android 设备的普及，现在是使用 Flash 平台探索 Android 开发世界的最佳时机。Adobe 最近发布的数据显示，到 2011 年底，预计将有超过 2 亿部智能手机和平板电脑支持 Adobe AIR 应用程序。对于 2011 年，公司预计全球将有超过 1.32 亿台设备支持移动 Flash 播放器。本书提供了各种基本食谱，探索在使用这些 Flash 平台运行时，移动 Android 开发者的常见需求。

许多现有的 Flash 应用程序开发人员对为 Android 设备构建移动应用程序的前景感到兴奋，但不知从何入手？使用本书作为指南，扩展您进入移动应用程序开发的领域。在可能的情况下，本书中的食谱均使用纯 ActionScript 3 编写，让读者可以使用他们选择的工具完成每个示例。在某些情况下，我们展示了在处理特定布局和结构需求时，移动 Flex 框架的强大和灵活性。通过书中的分步示例，快速启动您的移动 Android 开发经验。

《Android Flash 开发手册》将通过大量专为 Android 设备应用程序开发设计的移动特定示例，展示其直接而实用的特点。书中包含开始所需的一切内容，以及在使用 Flash、Flex 和 AIR 开发移动 Android 应用程序时进一步提升经验的建议。

本书涵盖的主题包括开发环境配置、移动项目的创建与转换、触摸和手势的使用、在 3D 空间中响应对位置和设备移动的变化、图像、视频和音频的捕获、生成和操作、应用程序布局与结构、接入本地进程和硬件、文件系统的操作以及本地应用程序数据库的管理。本书还将介绍诸如 Android 特定设备权限、应用程序优化技术，以及在移动 Android 平台上可用的打包和分发选项等事项。

## 本书内容

第一章，*准备使用 Android：开发环境与项目设置*，展示了可以用于开发移动 Android 的 Flash 内容的多种开发环境和工具的配置。

第二章，*交互体验：多点触控、手势和其他输入*，向读者介绍了可以在 Flash 平台运行时中使用的一系列独特的触摸和手势交互。

第三章, *空间移动：加速计和地理定位传感器*, 使你的应用程序能够精确地定位用户的地理位置，并通过板载加速计确定设备在本地的小幅度移动和倾斜。

第四章, *视觉和音频输入：相机和麦克风接入*, 讨论了如何通过基于 Flash 的捕获方法和使用本地相机应用程序，从集成设备硬件捕获静态图像、视频和音频。

第五章, *富媒体展示：处理图像、视频和音频*, 查看了 Flash 平台上可用的各种媒体展示机制，包括渐进式和流式视频播放、使用 Pixel Bender 着色器，甚至音频生成。

第六章, *结构适应：处理设备布局和缩放*, 讨论了我们可以使用各种方法来获取有关设备显示的详细信息，并在通过移动 Flex 框架进行结构化布局时，使用这些数据来调整视觉元素的大小和位置。

第七章, *本地交互：舞台 WebView 和 URI 处理器*, 展示了利用本地应用程序（如网页浏览器、电子邮件、短信、电话和地图）作为 Flash 基础体验扩展的方法。

第八章, *丰富访问：文件系统和本地数据库*, 为读者提供了访问、打开和写入设备存储上的文件流，创建和管理本地 SQLite 数据库，以及在应用程序中断时保存应用程序状态的必要步骤。

第九章, *宣言保障：安全与 Android 权限*, 展示了各种 Android Manifest 权限，并提供了市场筛选、加密数据库支持和其他安全相关技术的示例。

第十章, *避免问题：调试和资源考虑*, 探讨了开发者可以通过利用设备 GPU、负责任地处理用户交互和内存管理技术来提高应用程序效率的方法。

第十一章，*最后考虑：应用程序编译和发布*，为读者提供了关于项目准备、代码签名、发布编译和通过全球 Android Market 进行分发的建议。

# 你需要为这本书准备的内容

要使用本书中包含的食谱，你需要访问使用 Flash Platform 开发 Android 应用程序的软件。我们推荐使用 Adobe Flash Builder 4.5、Adobe Flash Professional CS5.5 或 PowerFlasher FDT 4.2 及更高版本。这些集成开发环境之所以首选，是因为它们对移动 Android 工作流程有特定的支持，但你可以实际上使用任何你喜欢的应用程序编写代码，这些代码将被编译为 AIR for Android 并部署到移动设备上。

然而，你还需要访问以下内容（如果不是使用这些特定的 IDE）： 

+   Adobe AIR SDK—用于将你的 Flash 应用程序编译成 Android 的.APK 文件

+   Flex 4.5 SDK—如果你想利用移动 Flex 框架

Adobe AIR SDK 包含在 Flash Professional CS5.5 和 Flash Builder 4.5 中。Flex 4.5 SDK 包含在 Flash Builder 4.5 中。如果使用其他软件开发基于 Flash 的 Android 应用程序，可以从 Adobe 开源网站免费下载这些 SDK。

你还需要确保能够访问运行 Android 2.2 或更高版本的设备，并安装了 AIR for Android 2.5 或更高版本，以便演示食谱和测试你自己的应用程序。

# 本书适合的读者群体

这本书包含了各种主题的食谱，从非常简单的到更高级的。如果你是一位经验丰富的 Flash 开发者，这本书将帮助你快速了解在 Android 上可以实现的功能。对于刚接触 Flash 的新手，欢迎进入视觉丰富、快速的移动 Android 设备应用程序开发世界！如果你对 Android 上的 Flash 开发有任何兴趣，这本书会满足你的需求。

# 约定

在本书中，你会发现多种文本样式，用于区分不同类型的信息。以下是一些样式示例，以及它们含义的解释。

文中的代码字会如下所示："创建一个名为`recipe1.py`的新文件，以放置此食谱的所有代码。"

代码块如下设置：

```kt
streamClient = new Object();
streamClient.onBWDone = onTextData;
streamClient.onTextData = onTextData;
streamClient.onMetaData = onMetaData;
streamClient.onCuePoint = onCuePoint;

```

**新术语**和**重要词汇**以粗体显示。你在屏幕上看到的词，例如菜单或对话框中的，会在文本中以这样的形式出现："有许多**IDE（集成开发环境）**可供选择，用于为 Android 设备开发 Flash 平台项目"。

### 注意

警告或重要提示会以这样的方框显示。

### 小贴士

技巧和窍门会以这样的形式出现。

# 读者反馈

我们始终欢迎读者的反馈。告诉我们你对这本书的看法——你喜欢或可能不喜欢的内容。读者的反馈对我们来说很重要，帮助我们开发出你真正能够充分利用的标题。

要给我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在邮件的主题中提及书名。

如果有一本书是你需要的，并且希望看到我们出版，请通过[www.packtpub.com](http://www.packtpub.com)上的**建议书名**表单给我们发送信息，或者发送电子邮件至`<suggest@packtpub.com>`。

如果有一个你擅长的主题，并且你对于写作或为书籍做出贡献感兴趣，请查看我们在[www.packtpub.com/authors](http://www.packtpub.com/authors)的作者指南。

# 客户支持

既然你现在是我们 Packt 图书的骄傲拥有者，我们有许多方法可以帮助你最大限度地利用你的购买。

## 下载示例代码

你可以从你在[`www.PacktPub.com`](http://www.PacktPub.com)的账户下载你购买的所有 Packt 图书的示例代码文件。如果你在其他地方购买了这本书，可以访问[`www.PacktPub.com/support`](http://www.PacktPub.com/support)注册，我们会直接将文件通过电子邮件发送给你。

## 错误更正

尽管我们已经尽力确保内容的准确性，但错误仍然可能发生。如果你在我们的书中发现了一个错误——可能是文本或代码中的错误——如果你能向我们报告，我们将不胜感激。这样做，你可以让其他读者避免沮丧，并帮助我们改进本书的后续版本。如果你发现任何错误，请通过访问[`www.packtpub.com/support`](http://www.packtpub.com/support)，选择你的书籍，点击**错误更正提交表单**链接，并输入错误详情来报告。一旦你的错误更正得到验证，你的提交将被接受，并且错误更正将在我们网站的相应位置上传，或者添加到该标题下的现有错误更正列表中。任何现有的错误更正都可以通过在[`www.packtpub.com/support`](http://www.packtpub.com/support)选择你的标题来查看。

## 盗版

互联网上版权材料的盗版是一个跨所有媒体持续存在的问题。在 Packt，我们非常重视保护我们的版权和许可。如果你在互联网上以任何形式遇到我们作品非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

如果你发现了疑似盗版材料，请通过`<copyright@packtpub.com>`联系我们，并提供该材料的链接。

我们感谢你帮助保护我们的作者，以及我们为你提供有价值内容的能力。

## 问题咨询

如果你对书籍的任何方面有问题，可以联系`<questions@packtpub.com>`，我们将尽力解决。
