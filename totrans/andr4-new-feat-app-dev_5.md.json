["```kt\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout \n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center_horizontal\"\n    android:orientation=\"vertical\" >\n    <TextView\n        android:id=\"@+id/textViewAuthor\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textAppearance=\"?android:attr/textAppearanceLarge\" />\n\n</LinearLayout>\n```", "```kt\npackage com.chapter5;\n\nimport android.app.ListFragment;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.AdapterView.OnItemClickListener;\nimport android.widget.ArrayAdapter;\n\npublic class Chapter5_1FragmentA extends ListFragment implements  \nOnItemClickListener {\n\n  @Override\n  public void onActivityCreated(Bundle savedInstanceState) {\n             super.onActivityCreated(savedInstanceState);\n             //initialize the adapter and set on click events of items\n    ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity(),\n        android.R.layout.simple_list_item_1, Book.BOOK_NAMES);\n    this.setListAdapter(adapter);\n    getListView().setOnItemClickListener(this);\n  }\n  @Override\n  public void onItemClick(AdapterView<?> parent, View view, int position, long id) \n  {\n    //Start a new Activity in order to display author name\n    String author = Book.AUTHOR_NAMES[position];\n    Intent intent = new Intent(getActivity().getApplicationContext(),\n    Chapter5_1Activity_B.class);\n    intent.putExtra(\"author\", author);\n    startActivity(intent);\n  }\n}\n```", "```kt\npackage com.chapter5;\n\npublic class Book {\n  public static final String[] BOOK_NAMES = { \"Book Name 1\", \"Book Name 2\", \"Book Name 3\", \"Book Name 4\", \"Book Name 5\", \"Book Name 6\", \"Book Name 7\", \"Book Name 8\" };\n  public static final String[] AUTHOR_NAMES = { \"Author of Book 1\", \"Author of Book 2\", \"Author of Book 3\", \"Author of Book 4\", \"Author of Book 5\", \"Author of Book 6\", \"Author of Book 7\", \"Author of Book 8\" };\n}\n```", "```kt\npackage com.chapter5;\n\nimport android.app.Fragment;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\npublic class Chapter5_1FragmentB extends Fragment {\n\n  @Override\n  public View onCreateView(LayoutInflater inflater, ViewGroup container,\n      Bundle savedInstanceState) {\n\n    View view = inflater.inflate(R.layout.fragment_b, container, false);\n    return view;\n  }\n}\n```", "```kt\npackage com.chapter5;\n\nimport android.app.Activity;\nimport android.os.Bundle;\n\npublic class Chapter5_1Activity_A extends Activity {\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_a);\n    }\n}\n```", "```kt\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout \n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"vertical\">\n\n    <fragment\n        android:id=\"@+id/fragment_a\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        class=\"com.chapter5.Chapter5_1FragmentA\" />\n\n</LinearLayout>\n```", "```kt\npackage com.chapter5;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class Chapter5_1Activity_B extends Activity {\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_b);\n\n        Bundle extras = getIntent().getExtras();\n    if (extras != null) {\n      String s = extras.getString(\"author\");\n      TextView view = (TextView) findViewById(R.id.textViewAuthor);\n      view.setText(s);\n    }\n    }\n}\n```", "```kt\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout \n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\" >\n\n    <fragment\n        android:id=\"@+id/fragment_b\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        class=\"com.chapter5.Chapter5_1FragmentB\" />\n\n</LinearLayout>\n```", "```kt\npackage com.chapter5;\n\nimport android.app.Activity;\nimport android.app.FragmentManager;\nimport android.app.FragmentTransaction;\nimport android.os.Bundle;\n\npublic class Chapter5_1Activity_A extends Activity {\n  /** Called when the activity is first created. */\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_a);\n    addFragment();\n  }\n\n public void addFragment() {\n FragmentManager fragmentManager = getFragmentManager();\n FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n\n Chapter5_1FragmentA fragment = new Chapter5_1FragmentA();\n fragmentTransaction.add(R.id.layout_activity_a, fragment);\n fragmentTransaction.commit();\n }\n}\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout \n    android:id=\"@+id/layout_activity_a\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"vertical\" >\n\n</LinearLayout>\n```", "```kt\n    public interface OnBookSelectedListener \n      {\n        public void onBookSelected(int bookIndex);\n      }\n    ```", "```kt\n    OnBookSelectedListener mListener;\n    @Override\n      public void onAttach(Activity activity) {\n        super.onAttach(activity);\n        mListener = (OnBookSelectedListener) activity;\n      }\n    ```", "```kt\n    public class Chapter5_1Activity_A extends Activity implements \n    OnBookSelectedListener {\n    //some code here\n            @Override\n            public void onBookSelected(int bookIndex) {\n\n              String author = Book.AUTHOR_NAMES[bookIndex];\n              Intent intent = new Intent(this,Chapter5_1Activity_B.class);\n              intent.putExtra(\"author\", author);\n              startActivity(intent);\n           } \n    //some more code here\n    }\n    ```", "```kt\n    @Override\n    public void onItemClick(AdapterView<?> parent, View view, int position, long id) {\n\n      mListener.onBookSelected(position);\n    }\n    ```", "```kt\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout \n    android:id=\"@+id/layout_small_a\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"horizontal\" >\n\n <fragment\n        android:id=\"@+id/fragment_a\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        class=\"com.chapter5.Chapter5_1FragmentA\" \n        android:layout_weight=\"1\"/>\n <fragment\n        android:id=\"@+id/fragment_b\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        class=\"com.chapter5.Chapter5_1FragmentB\" \n        android:layout_weight=\"1\"/>\n\n</LinearLayout>\n```", "```kt\n  @Override\n  public void onBookSelected(int bookIndex) {\n\n    FragmentManager fragmentManager = getFragmentManager();\n    Fragment fragment_b = fragmentManager.findFragmentById(R.id.fragment_b);\n    String author = Book.AUTHOR_NAMES[bookIndex];\n    if(fragment_b == null)\n    {\n      Intent intent = new Intent(this,\n          Chapter5_1Activity_B.class);\n      intent.putExtra(\"author\", author);\n      startActivity(intent);\n    }\n    else\n    {\n      TextView textViewAuthor = (TextView)fragment_b.getView().findViewById(R.id.textViewAuthor);\n      textViewAuthor.setText(author);\n    }\n  }\n```", "```kt\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest \n    package=\"com.chapter5\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" >\n\n    <uses-sdk android:minSdkVersion=\"14\" />\n\n    <application\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\" >\n        <activity\n            android:name=\".Chapter5_1Activity_A\"\n            android:label=\"@string/app_name\" >\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n        <activity android:name=\".Chapter5_1Activity_B\"/>\n    </application>\n\n</manifest>\n```", "```kt\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout \n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center_horizontal\"\n    android:orientation=\"vertical\" >\n\n    <Button\n        android:id=\"@+id/buttonFragment\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Delete\" />\n\n</LinearLayout>\n```", "```kt\npackage com.chapter5;\n\nimport android.app.Fragment;\nimport android.app.FragmentTransaction;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.view.ViewGroup;\nimport android.widget.Button;\n\npublic class Chapter5_2Fragment extends Fragment implements OnClickListener{\n\n  Button fragmentButton;\n  @Override\n  public View onCreateView(LayoutInflater inflater, ViewGroup container,\n      Bundle savedInstanceState) {\n\n    View view = inflater.inflate(R.layout.fragment, container, false);\n    fragmentButton = (Button)view.findViewById(R.id.buttonFragment);\n    fragmentButton.setOnClickListener(this);\n    return view;\n  }\n\n  @Override\n public void onClick(View v) {\n //we need a FragmentTransaction in order to display a dialog\n FragmentTransaction transaction = getFragmentManager().beginTransaction();\n\n Chapter5_2DialogFragment dialogFragment = new Chapter5_2DialogFragment();\n\n dialogFragment.show(transaction, \"dialog_fragment\");\n\n }\n}\n```", "```kt\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<GridLayout android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center_horizontal\"\n    android:columnCount=\"2\"\n    android:orientation=\"horizontal\" >\n\n    <TextView\n        android:id=\"@+id/textViewMessage\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_columnSpan=\"2\"\n        android:layout_gravity=\"fill\"\n        android:text=\"This item will be deleted. Do you want to continue?\"\n        android:textAppearance=\"?android:attr/textAppearanceLarge\" />\n\n     <!—we used a linear layout here because we need it in order to evenly distribute the buttons -->\n    <LinearLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_gravity=\"fill_horizontal\"\n        android:layout_columnSpan=\"2\" >\n\n        <Button\n            android:id=\"@+id/buttonOk\"\n            android:layout_width=\"fill_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:text=\"OK\" />\n\n    <Button\n        android:id=\"@+id/buttonCancel\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"1\"\n        android:text=\"CANCEL\" />\n\n    </LinearLayout>\n\n</GridLayout>\n```", "```kt\npackage com.chapter5;\n\nimport android.app.DialogFragment;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.Toast;\n\npublic class Chapter5_2DialogFragment extends DialogFragment implements\nOnClickListener{\n\n  Button okButton;\n  Button cancelButton;\n  @Override\n  public View onCreateView(LayoutInflater inflater, ViewGroup container,\n      Bundle savedInstanceState) {\n\n    View view = inflater.inflate(R.layout.dialog_fragment, container, false);\n    //initialize the buttons and set click events\n    okButton = (Button)view.findViewById(R.id.buttonOk)\n    okButton.setOnClickListener(this);\n\n    cancelButton = (Button)view.findViewById(R.id.buttonCancel);\n    cancelButton.setOnClickListener(this);\n\n    return view;\n  }\n\n  @Override\n  public void onClick(View v) {\n\n    if(v == cancelButton)\n      dismiss();\n    else if( v == okButton)\n    {\n      Toast.makeText(this.getActivity(), \"Item is deleted.\", Toast.LENGTH_LONG).show();\n      dismiss();\n    }\n\n  }\n}\n```", "```kt\n    <?xml version=\"1.0\" encoding=\"utf-8\"?>\n    <PreferenceScreen  >\n\n        <CheckBoxPreference android:summary=\"check this in order to show confirmation message when deleting\"\n            android:title=\"show confirmation message\" \n            android:key=\"checkbox_preference\"/>\n\n    </PreferenceScreen>\n    ```", "```kt\n    package com.chapter5;\n\n    import android.os.Bundle;\n    import android.preference.PreferenceFragment;\n\n    public class Chapter5_2PereferenceFragment extends PreferenceFragment {\n\n      @Override\n      public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        addPreferencesFromResource(R.xml.pref);\n      }\n\n    }\n    ```", "```kt\n      @Override\n      public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) \n    {\n\n        View view = inflater.inflate(R.layout.fragment, container, false);\n        fragmentButton = (Button)view.findViewById(R.id.buttonFragment);\t\n        fragmentButton.setOnClickListener(this);\n\n        setHasOptionsMenu(true);\n        return view;\n      }\n    ```", "```kt\n      @Override\n      public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n        inflater.inflate(R.menu.fragment_menu, menu);\n\n      }\n\n      @Override\n      public boolean onOptionsItemSelected(MenuItem item) {\n\n        Intent intent = new Intent(getActivity(),Chapter5_2PreferenceActivity.class);\n        startActivity(intent);\n        return true;\n      }\n    ```", "```kt\n<menu >\n    <item android:id=\"@+id/itemSettings\" android:title=\"Settings\"></item>\n</menu>\n```", "```kt\npackage com.chapter5;\n\nimport android.app.Activity;\nimport android.os.Bundle;\n\npublic class Chapter5_2PreferenceActivity extends Activity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    getFragmentManager().beginTransaction()\n .replace(android.R.id.content, new Chapter5_2PereferenceFragment())\n .commit();\n  }\n}\n```", "```kt\n    <?xml version=\"1.0\" encoding=\"utf-8\"?>\n    <LinearLayout \n        android:id=\"@+id/layout_fragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:gravity=\"center_horizontal\"\n        android:orientation=\"vertical\" >\n\n        <Button\n            android:id=\"@+id/buttonFragment\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Delete\" />\n\n     <Button\n     android:id=\"@+id/buttonOpenWeb\"\n     android:layout_width=\"wrap_content\"\n     android:layout_height=\"wrap_content\"\n     android:text=\"Open Web\" />\n\n    </LinearLayout>\n    ```", "```kt\n    package com.chapter5;\n\n    import android.os.Bundle;\n    import android.webkit.WebViewFragment;\n\n    public class Chapter5_2WebViewFragment extends WebViewFragment {\n\n      @Override\n      public void onActivityCreated(Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n\n        getWebView().loadUrl(\"http://www.google.com\");\n      }\n    }\n    ```", "```kt\npackage com.chapter5;\n\nimport android.app.Activity;\nimport android.os.Bundle;\n\npublic class Chapter5_2WebActivity extends Activity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n getFragmentManager().beginTransaction()\n .replace(android.R.id.content, new Chapter5_2WebViewFragment())\n .commit();\n  }\n}\n```", "```kt\npackage com.chapter5;\n\nimport android.app.Fragment;\nimport android.app.FragmentTransaction;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.view.ViewGroup;\nimport android.widget.Button;\n\npublic class Chapter5_2Fragment extends Fragment implements OnClickListener{\n\n  Button fragmentButton;\n  Button openWebButton;\n\n  @Override\n  public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n    View view = inflater.inflate(R.layout.fragment, container, false);\n    fragmentButton = (Button)view.findViewById(R.id.buttonFragment);\t\n    fragmentButton.setOnClickListener(this);\n\n    openWebButton = (Button)view.findViewById(R.id.buttonOpenWeb);\n    openWebButton.setOnClickListener(this);\n\n    setHasOptionsMenu(true);\n    return view;\n  }\n\n  @Override\n  public void onClick(View v) {\n if(v == fragmentButton)\n {\n FragmentTransaction transaction = getFragmentManager().beginTransaction();\n Chapter5_2DialogFragment dialogFragment = new Chapter5_2DialogFragment();\n dialogFragment.show(transaction, \"dialog_fragment\");\n }\n else if( v == openWebButton)\n {\n Intent intent = new Intent(getActivity(),Chapter5_2WebActivity.class);\n startActivity(intent);\n }\n  }\n\n  @Override\n  public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n    inflater.inflate(R.menu.fragment_menu, menu);\n\n  }\n\n  @Override\n  public boolean onOptionsItemSelected(MenuItem item) {\n\nIntent intent = new Intent(getActivity(),Chapter5_2PreferenceActivity.class);\n    startActivity(intent);\n    return true;\n  }\n}\n```", "```kt\npackage com.chapter5;\n\nimport android.app.Activity;\nimport android.os.Bundle;\n\npublic class Chapter5_2Activity extends Activity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n}\n```", "```kt\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout \n    android:id=\"@+id/layout_small_a\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"vertical\" >\n\n <fragment\n android:id=\"@+id/fragment\"\n android:layout_width=\"match_parent\"\n android:layout_height=\"match_parent\"\n class=\"com.chapter5.Chapter5_2Fragment\" />\n\n</LinearLayout>\n```", "```kt\n<manifest \n    package=\"com.chapter5\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" >\n\n    <uses-sdk\n android:minSdkVersion=\"14\"\n android:targetSdkVersion=\"15\" />\n    <uses-permission android:name=\"android.permission.INTERNET\" />\n\n    <application\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" >\n        <activity\n            android:name=\".Chapter5_2Activity\"\n            android:label=\"@string/title_activity_main\" >\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n <activity android:name=\".Chapter5_2PreferenceActivity\"></activity>\n <activity android:name=\".Chapter5_2WebActivity\"></activity>\n    </application>\n\n</manifest>\n```"]