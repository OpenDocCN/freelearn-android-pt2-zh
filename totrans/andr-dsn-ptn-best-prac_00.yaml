- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Welcome to *Android Design Patterns and Best Practice*, a comprehensive guide
    to how to get the most out of your apps with the tried and tested programming
    philosophy, design patterns. These patterns provide a logical and elegant approach
    to solving many of the development problems that coders face. These patterns act
    as a guide creating a clear path from problem to solution, and although applying
    a design pattern does not guarantee best practice in itself, it will hugely assist
    the process and make the discovery of design flaws far easier. Design patterns
    can be implemented on very many platforms and written in as many programming languages.
    Some code libraries even apply patterns as part of their internal mechanics, and
    many readers will already be familiar with the Java Observer and Observable classes.
    The Android SDK we will be exploring makes great use of many patterns, such as
    factories, builders and listeners (which are really just observer patterns). Although
    we will cover these built-in design patterns, the book will mostly explore how
    we can build our own, custom made, patterns and apply them to Android development.
    Rather than approach each design pattern in turn, this book approaches the subject
    from the perspective of a developer, moving through each aspect of app development
    exploring individual design patterns as they would arise in the course of building
    an Android app. To clarify this journey, we will be focusing on a single imaginary
    app, designed to support a small business. This will take us from application
    conception through to publication, covering such topics as UI design, internal
    logic and user interaction along the way. During each of these steps we will explore
    those design patterns that are relevant to that process, by first exploring the
    pattern in its abstract form and then applying it to that particular situation.
    By the end of the book you will have learned how design patterns can be applied
    to all aspects of Android development and how using them assists best practice.
    It is the concept of design patterns that is more important than any specific
    pattern itself. Patterns can, and should, be adapted to suit our specific purposes,
    and by learning this way of approaching app development, we can even go on to
    create entirely original patterns of our own.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎阅读《*Android设计模式与最佳实践*》，这是一本全面介绍如何利用经过验证的编程哲学、设计模式使你的应用程序发挥最大价值的指南。这些模式为解决开发者面临的许多开发问题提供了逻辑清晰且优雅的方法。这些模式作为指南，为从问题到解决方案的清晰路径提供了指导，尽管应用设计模式本身并不能保证最佳实践，但它将极大地促进这个过程，并使发现设计缺陷变得更加容易。设计模式可以在许多平台上实施，并使用多种编程语言编写。一些代码库甚至将模式作为其内部机制的一部分，许多读者可能已经熟悉Java的Observer和Observable类。我们将要探讨的Android
    SDK大量使用了多种模式，如工厂、生成器和监听器（实际上只是观察者模式）。尽管我们会涵盖这些内置的设计模式，但本书主要探讨我们如何构建自己的、定制的模式，并将它们应用于Android开发中。本书不是依次介绍每个设计模式，而是从开发者的视角出发，通过应用程序开发的各个方面探索在构建Android应用程序过程中可能出现的个别设计模式。为了明确这一旅程，我们将专注于一个单一的虚构应用程序，旨在支持小企业。这将带领我们从应用程序的构思到发布，在此过程中涵盖UI设计、内部逻辑和用户交互等主题。在每一个步骤中，我们都会探索与该过程相关的设计模式，首先探索模式的抽象形式，然后将其应用于特定情况。通过本书的学习，你将了解如何将设计模式应用于Android开发的各个方面，以及使用它们如何有助于最佳实践。设计模式的概念比任何特定的模式本身都更为重要。模式可以也应该根据我们的具体目的进行调整，通过这种方式学习应用程序开发，我们甚至可以继续创建完全原创的模式。
- en: What this book covers
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[Chapter 1](ch01.html "Chapter 1. Design Patterns"), *Design Patterns*, introduces
    the development environment, and two common design patterns, the factory and abstract
    factory.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](ch01.html "第1章：设计模式")，*设计模式*，介绍了开发环境，以及两种常见的设计模式：工厂模式和抽象工厂模式。'
- en: '[Chapter 2](ch02.html "Chapter 2. Creational Patterns"), *Creational Patterns*,
    covers material and interface design, exploring the design support library and
    the builder design pattern.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](ch02.html "第2章：创建型模式")，*创建型模式*，涵盖了材料与界面设计，探索了设计支持库和生成器设计模式。'
- en: '[Chapter 3](ch03.html "Chapter 3. Material Patterns"), *Material Patterns*,
    introduces Android User Interfaces and some of the most significant material design
    components such as the app bar and sliding navigation drawer. This will introduce
    menus and action icons and how to implement them and how to use a drawer listener
    to detect user activity.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 4](ch04.html "Chapter 4. Layout Patterns"), *Layout Patterns*, leads
    in from the previous one, delving further into Android Layout design patterns
    and how gravity and weight can be used to create layouts that work on a variety
    of devices. This will take us onto how Android handles device orientation and
    screen size and shape differences. The strategy pattern is introduced and demonstrated.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 5](ch05.html "Chapter 5. Structural Patterns"), *Structural Patterns*,
    delves us deeper into the design library and create a layout governed by a coordinator
    layout with a recycler view. This requires exploring the adapter design pattern,
    first the internal versions and then we build one of our own, as well as a bridge
    pattern and facade and filter patterns.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 6](ch06.html "Chapter 6. Activating Patterns"), *Activating Patterns*,
    shows us how to apply patterns directly to our app. We cover more design library
    features such as collapsing toolbars, scrolling and divider. We crate a custom
    dialog, triggered by user activity. We revisit the factory patterns and show how
    a builder pattern can be used to inflate a UI.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 7](ch07.html "Chapter 7. Combining Patterns"), *Combining Patterns*,
    introduces and demonstrates two new structural patterns the prototype and decorator,
    covering their flexibility. This is then put in to practice as we use the patterns
    to control a UI comprised of different compound buttons such as switches and radio
    groups.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 8](ch08.html "Chapter 8. Composing Patterns"), *Composing Patterns*,
    concentrates on the composite pattern and how it can be used in many situations
    and how to select the right situation. We then continue to use it in a practical
    demonstration to inflate a nested UI. This leads into the storage and retrieval
    of persistent data, using internal storage, application files and ultimately user
    settings in the form of shared preferences.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 9](ch09.html "Chapter 9. Observing Patterns"), *Observing Patterns*,
    looks at the visual processes involved in the transitions from one Activity to
    another and how this can be far more than mere decoration. The reader learns how
    to apply transitions and shared elements to efficiently use the minimal screen
    space of mobile devices and simplify application use and operation.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 10](ch10.html "Chapter 10. Behavioral Patterns"), *Behavioral Patterns*,
    concentrates on the major behavioral patterns, template, strategy, visitor and
    state. It provides working demonstrations of each and covers their flexibility
    and usage.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 11](ch11.html "Chapter 11. Wearable Patterns"), *Wearable Patterns*,
    shows working of Android Wear, TV and Auto, demonstrating how to set up and configure
    each in turn. We examine the differences between these and the standard handheld
    app.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 12](ch12.html "Chapter 12. Social Patterns"), *Social Patterns*, shows
    how to add web functionality and social media. Firstly the WebView is explored
    and how it can be used to create internal web-apps. Next, how to connect our app
    to Facebook is explored, showing how this is done and what we can do with it.
    The chapter concludes by examining other social platforms, such as Twitter.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 13](ch13.html "Chapter 13. Distribution Patterns"), *Distribution
    Patterns*, covers deployment, publication and monetization of Android apps. The
    reader is led through the registration and publication process and we take a look
    at advertising options and which are best suited to which purpose. Finally we
    look at how we can maximize potential users with a few tips and tricks of deployment.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: What you need for this book
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Android Studio and SDK are both open source and can be installed from a single
    package. With one minor exception, which is outlined thoroughly in the relevant
    chapter, this is all the software required for this book.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: Who this book is for
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book is intended for Android developers who have some basic android development
    experience. Basic Java programming knowledge is a must to get the most out of
    this book.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: Conventions
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this book, you will find a number of text styles that distinguish between
    different kinds of information. Here are some examples of these styles and an
    explanation of their meaning.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: 'Code words in text, database table names, folder names, filenames, file extensions,
    pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "Add
    three TextViews to your layout, and then add the code to your MainActivity''s
    `onCreate()` method."'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: 'A block of code is set as follows:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, for example, in menus or dialog boxes, appear in the text like
    this: "Enable developer options on your handset. On some models, this can involve
    navigating to **Settings** | **About phone**"'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Warnings or important notes appear in a box like this.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Tips and tricks appear like this.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: Reader feedback
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book-what you liked or disliked. Reader feedback is important for us as it
    helps us develop titles that you will really get the most out of. To send us general
    feedback, simply e-mail feedback@packtpub.com, and mention the book's title in
    the subject of your message. If there is a topic that you have expertise in and
    you are interested in either writing or contributing to a book, see our author
    guide at [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: Customer support
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: Downloading the example code
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You can download the example code files for this book from your account at [http://www.packtpub.com](http://www.packtpub.com).
    If you purchased this book elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
- en: 'You can download the code files by following these steps:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: Log in or register to our website using your e-mail address and password.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Hover the mouse pointer on the **SUPPORT** tab at the top.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Code Downloads & Errata**.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the name of the book in the **Search** box.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the book for which you're looking to download the code files.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose from the drop-down menu where you purchased this book from.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Code Download**.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: WinRAR / 7-Zip for Windows
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Zipeg / iZip / UnRarX for Mac
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 7-Zip / PeaZip for Linux
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The code bundle for the book is also hosted on GitHub at [https://github.com/PacktPublishing/Android-Design-Patterns-and-Best-Practice](https://github.com/PacktPublishing/Android-Design-Patterns-and-Best-Practice).
    We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: Downloading the color images of this book
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We also provide you with a PDF file that has color images of the screenshots/diagrams
    used in this book. The color images will help you better understand the changes
    in the output. You can download this file from [https://www.packtpub.com/sites/default/files/downloads/AndroidDesignPatternsandBestPractice.pdf](https://www.packtpub.com/sites/default/files/downloads/AndroidDesignPatternsandBestPractice.pdf).
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
- en: Errata
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books-maybe a mistake in the text
    or the code-we would be grateful if you could report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the **Errata Submission Form** link, and entering
    the details of your errata. Once your errata are verified, your submission will
    be accepted and the errata will be uploaded to our website or added to any list
    of existing errata under the Errata section of that title.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已经竭尽全力确保内容的准确性，但错误仍然会发生。如果您在我们的书中发现了一个错误——可能是文本或代码中的错误——如果您能向我们报告，我们将不胜感激。这样做，您可以避免其他读者感到沮丧，并帮助我们改进该书的后续版本。如果您发现任何勘误信息，请通过访问[http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来进行报告。一旦您的勘误信息得到验证，您的提交将被接受，勘误信息将被上传到我们的网站或添加到该标题勘误部分下现有的勘误列表中。
- en: To view the previously submitted errata, go to [https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)
    and enter the name of the book in the search field. The required information will
    appear under the **Errata** section.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看之前提交的勘误信息，请前往[https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将显示在**勘误**部分下。
- en: Piracy
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 盗版
- en: Piracy of copyrighted material on the Internet is an ongoing problem across
    all media. At Packt, we take the protection of our copyright and licenses very
    seriously. If you come across any illegal copies of our works in any form on the
    Internet, please provide us with the location address or website name immediately
    so that we can pursue a remedy.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 网络上对版权材料的盗版行为是所有媒体持续面临的问题。在 Packt，我们非常重视对我们版权和许可的保护。如果您在互联网上以任何形式遇到我们作品的非法副本，请立即提供其位置地址或网站名称，以便我们可以寻求补救措施。
- en: Please contact us at copyright@packtpub.com with a link to the suspected pirated
    material.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您发现疑似盗版材料，请通过copyright@packtpub.com联系我们，并提供链接。
- en: We appreciate your help in protecting our authors and our ability to bring you
    valuable content.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感谢您帮助保护我们的作者和我们提供有价值内容的能力。
- en: Questions
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题
- en: If you have a problem with any aspect of this book, you can contact us at questions@packtpub.com,
    and we will do our best to address the problem.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您对这本书的任何方面有问题，可以通过questions@packtpub.com联系我们，我们将尽力解决问题。
